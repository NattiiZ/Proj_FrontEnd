<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Category</title>
    <link rel="stylesheet" href="../../css/admin/style.css">
</head>

<body>

    <header>
        Admin Dashboard
    </header>

    <nav>
        <a href="/admin/category">Categories</a>
        <a href="/admin/brand">Brands</a>
        <a href="/admin/product">Products</a>
        <a href="/admin/customer">Customers</a>
        <a href="/admin/edit">Admin Edit</a>

        <form action="/logout" method="POST" class="logout-form">
            <button class="btn logout" onclick="alert('คุณได้ออกจากระบบแล้ว')" type="submit">ออกจากระบบ</button>
        </form>
    </nav>

    <div class="content">
        <h1>Categories</h1>

        <div class="action-bar">
            <a href="/add/category" class="btn create-btn">Add New</a>
        </div>

        <table>
            <tr>
                <th>Category</th>
                <th>Actions</th>
            </tr>

            <% category.forEach(category => { %>
            <tr>
                <td><%= category.name %></td>
                <td>
                    <a href="editcategory.html">Edit</a> |
                    <a href="#" onclick="confirmDelete('<%= category.category_ID %>', '<%= category.name %>')">Delete</a>
                </td>
            </tr>
            <% }) %>
        </table>
        <br>
    </div>

    <script>
        function confirmDelete(Id, name) {
            if (confirm(`ยืนยันการลบหมวดหมู่ ${name}`)) {
                window.location.href = `/delete/category/${Id}`;
            }
        }
    </script>

</body>

</html>